<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IHM - Página inicial</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;700&family=Montserrat:wght@400;500;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.css"
        integrity="sha512-IJEbgDEF7OeKJRa0MY2PApnyJHRIsgzCveek4ec8VWQ+7KG3ZSKVNYa5xP/Gh0hVP0Mwb+gBsk+GwR3JQGhQNg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="../styles/styles.css">
    <link rel="stylesheet" href="../styles/formulario/styles.css">
</head>

<body>
    <header class="cabecalho">
        <a href='../index.html' class="cabecalho__logo-link">
            <h1 class="cabecalho__logo-inicio">IHM<span class="cabecalho__logo-final">Engenharia da Computação</span></h1>
        </a>
        <ul class="cabecalho-lista">
            <li class="cabecalho-lista__item">
                <a href="#" class="cabecalho-lista__link">Sobre</a>
            </li>
            <li class="cabecalho-lista__item">
                <a href="#" class="cabecalho-lista__link">Serviços</a>
            </li>
            <li class="cabecalho-lista__item">
                <input class="cabecalho__pesquisa" type="search" placeholder="Busque aqui">
            </li>
            <li class="cabecalho-lista__item">
                <a href="#" class="cabecalho-lista__item-botao cabecalho-lista__item-botao--azul">Abrir curso</a>
            </li>
            <li class="cabecalho-lista__item">
                <a href="#" class="cabecalho-lista__item-botao">Acessar curso</a>
            </li>
        </ul>
    </header>

    <section class="banner">
        <h3 class="banner__titulo">IHM é uma abreviação de Interface Homem-Máquina, ou Human Machine Interface (HMI) em inglês. </h3>
    </section>

    <main class="container">
        <ul class="breadcrumb">
            <li>Inicio</li>
            <li class="breadcrumb__pagina">Curso</li>
        </ul>

        <section class="formulario">
            <div class="formulario__container">
                <img src="../img/status-1.png" alt="Etapa um de três" class="formulario__etapas">
                <h2 class="formulario__titulo-texto">Preencha os campos abaixo! </h2>
            </div>

            <form class="principal__formulario" data-formulario>
                <fieldset class="formulario__campo">
                    <label class="campo__etiqueta" for="nome">Nome</label>
                    <input name="nome" id="nome" class="campo__escrita" required type="text" minlength="2" />
                    <span class="mensagem-erro"></span>
                </fieldset>

                <fieldset class="formulario__campo">
                    <label class="campo__etiqueta" for="email">E-mail</label>
                    <input name="email" id="email" class="campo__escrita" required type="email"/>
                    <span class="mensagem-erro"></span>
                </fieldset>
                <fieldset class="formulario__campo">
                    <label class="campo__etiqueta" for="rg">RG</label>
                    <input name="rg" id="rg" class="campo__escrita campo__escrita--menor" required type="text"/>
                    <span class="mensagem-erro"></span>
                </fieldset>
                <fieldset class="formulario__campo">
                    <label class="campo__etiqueta" for="cpf">CPF (apenas números)</label>
                    <input name="cpf" id="cpf" class="campo__escrita campo__escrita--menor" required type="text" minlength="11" maxlength="14" pattern="\d{3}\.?"/>
                    <span class="mensagem-erro"></span>
                </fieldset>
                <fieldset class="formulario__campo">
                    <label class="campo__etiqueta" for="aniversario">Data de nascimento</label>
                    <input name="aniversario" id="aniversario" class="campo__escrita campo__escrita--menor" required type="date"/>
                    <span class="mensagem-erro"></span>
                </fieldset>
                <fieldset class="formulario__termos">
                    <input name="termos" class="termos__input" required type="checkbox">
                    <p class="termos__texto">Li e estou ciente quanto às condições de tratamento dos meus dados conforme
                        descrito na Política
                        do curso.</p>
                    <span class="mensagem-erro"></span>
                </fieldset>

                <div>
                    <input value="Avançar" class="formulario__botao" id="enviar" data-botao-enviar>
                    <span class="mensagem-erro"></span>
                </div>
            </form>

        </section>

    </main>

    <footer class="rodape">
       
    </footer>
    <script>
        const composFormulario = document.querySelectorAll('[required]');

        composFormulario.forEach((campo) =>{
                campo.addEventListener("blur",()=>verificarCPF(campo));
        })

        function verificarCPF(campo){
            let soma = 0;
            let multiplicador = 10;
            if (campo.name == "cpf"){
                const cpf = campo.value.replace(/\.|-/g,"");
                for (let tamanhoCPF = 0; tamanhoCPF < 9; tamanhoCPF++){
                    soma += cpf[tamanhoCPF] * multiplicador;
                    multiplicador--;
                }
                soma = (soma * 10) %11;
           //     console.log("informe o cpf completo "+cpf);
                if (soma == 10 || soma == 11){
                    soma = 0;
                }
                if (soma != cpf[9]){
                    console.log("CPF invalido");
                }
                soma = 0;
                multiplicador = 11;
                for (let tamanhoCPF = 0; tamanhoCPF < 10; tamanhoCPF++){
                    soma += cpf[tamanhoCPF] * multiplicador;
                    multiplicador--;
                }
                soma = (soma * 10) %11;
              //  console.log("informe o cpf completo "+cpf);
                if (soma == 10 || soma == 11){
                    soma = 0;
                }
                if(soma == cpf[10]){
                    console.log("CPF Valido");
                }
            }
        }



    </script>
</body>

</html>